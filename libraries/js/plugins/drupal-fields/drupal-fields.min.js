!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports["drupal-fields"]=t(require("jQuery")):e["drupal-fields"]=t(e.jQuery)}(self,(function(e){return(()=>{"use strict";var t={642:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var r=o(609),n=o.n(r),a=function(e){e.model.empty().components().add({tagName:"div",attributes:{class:"gjs-drupal-block"},content:'<div class="lds-dual-ring"></div> '+Drupal.t("Loading...")})},l=function e(t){t.forEach((function(t){t.set({badgable:!1,copyable:!1,draggable:!1,highlightable:!1,hoverable:!1,selectable:!1,removable:!1}),t.components().length>0&&e(t.components())}))},i=function(e,t,o){t.model.empty().components().add(o),function(e,t){var o=e.BlockManager,r=t.model.getAttributes();if(void 0!==r["block-plugin-id"]){var n="drupal-block-".concat(r["block-plugin-id"]),a=o.get(n);a&&t.model.set("name",a.get("label"))}}(e,t),l(t.model.components())},c=void 0;const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.DomComponents,r=o.getType("default");o.addType("drupal-field",{isComponent:function(e){return e&&e.tagName&&"DRUPAL-FIELD"===e.tagName},model:{defaults:{name:t.componentLabel,tagName:"drupal-field",editable:!1,droppable:!1,stylable:!1,propagate:["editable","droppable","stylable"],traits:[]},toHTML:function(){var e=r.model.prototype.toHTML.call(c),t=n()(e);return t.empty(),t.get(0).outerHTML}},view:{init:function(o){0===o.model.components().length&&(a(o),n().get(t.field_route,o.model.get("attributes")).then((function(t){i(e,o,t)})).catch((function(t){i(e,o,{tagName:"div",attributes:{class:"gjs-drupal-block gjs-block-error"},content:t.responseJSON})})))}}})},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.BlockManager;t.fields.forEach((function(e){var r="drupal-field-".concat(e.name);o.add(r,{label:e.label,category:t.category,attributes:{class:"fa fa-drupal"},content:{type:"drupal-field",attributes:{"field-name":e.name}}})}))};function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){f(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s({category:{id:"drupal-fields",label:Drupal.t("Drupal Fields"),open:!1,order:10},componentLabel:Drupal.t("Drupal Field")},t);u(e,o),d(e,o)}},609:t=>{t.exports=e}},o={};function r(e){if(o[e])return o[e].exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(642)})()}));