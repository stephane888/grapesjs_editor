!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports["drupal-fields"]=t(require("jQuery")):e["drupal-fields"]=t(e.jQuery)}(self,(function(e){return(()=>{"use strict";var t={642:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var o=r(609),n=r.n(o),a=function(e){e.model.empty().components().add({tagName:"div",attributes:{class:"gjs-drupal-field"},content:'<div class="lds-dual-ring"></div> '+Drupal.t("Loading...")})},l=function e(t){t.forEach((function(t){t.set({badgable:!1,copyable:!1,draggable:!1,highlightable:!1,hoverable:!1,selectable:!1,removable:!1}),t.components().length>0&&e(t.components())}))},i=function(e,t,r){t.model.empty().components().add(r),function(e,t){var r=e.BlockManager,o=t.model.getAttributes();if(void 0!==o["block-plugin-id"]){var n="drupal-block-".concat(o["block-plugin-id"]),a=r.get(n);a&&t.model.set("name",a.get("label"))}}(e,t),l(t.model.components())};const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.DomComponents,o=r.getType("default");r.addType("drupal-field",{isComponent:function(e){return e&&e.tagName&&"DRUPAL-FIELD"===e.tagName},model:{defaults:{name:t.componentLabel,tagName:"drupal-field",editable:!1,droppable:!1,stylable:!1,propagate:["editable","droppable","stylable"],traits:[]},toHTML:function(){var e=o.model.prototype.toHTML.call(this),t=n()(e);return t.empty(),t.get(0).outerHTML}},view:{init:function(r){0===r.model.components().length&&(a(r),n().get(t.field_route,r.model.get("attributes")).then((function(t){i(e,r,t)})).catch((function(t){i(e,r,{tagName:"div",attributes:{class:"gjs-drupal-field gjs-field-error"},content:t.responseJSON})})))}}})},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.BlockManager;t.fields.forEach((function(e){var o="drupal-field-".concat(e.name);r.add(o,{label:e.label,category:t.category,attributes:{class:"fa fa-drupal"},content:{type:"drupal-field",attributes:{"field-name":e.name}}})}))};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=p({category:{id:"drupal-fields",label:Drupal.t("Drupal Fields"),open:!1,order:10},componentLabel:Drupal.t("Drupal Field")},t);c(e,r),d(e,r)}},609:t=>{t.exports=e}},r={};function o(e){if(r[e])return r[e].exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}return o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(642)})()}));